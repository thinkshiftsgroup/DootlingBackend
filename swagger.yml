openapi: 3.0.3
info:
  title: Dootling API
  description: Complete JWT authentication system with user profile management, store management, and KYC verification
  version: 1.0.0
  contact:
    name: Dootling Support
    email: support@dootling.com

servers:
  - url: http://localhost:8000
    description: Development server
  - url: https://api.dootling.com
    description: Production server

security:
  - bearerAuth: []

paths:
  /health:
    get:
      tags:
        - Health
      summary: Health check
      description: Check if the service is running
      security: []
      responses:
        '200':
          description: Service is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string

  # ==================== AUTHENTICATION ENDPOINTS ====================

  /api/auth/register:
    post:
      tags:
        - Authentication
      summary: Register a new user
      description: Register a new user with email and password. Sends verification code to email.
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - firstname
                - lastname
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
                firstname:
                  type: string
                  example: John
                lastname:
                  type: string
                  example: Doe
                password:
                  type: string
                  minLength: 8
                  example: password123
                phone:
                  type: string
                  example: "+1234567890"
                howDidYouFindUs:
                  type: string
                  example: Google
                subscribeToMarketing:
                  type: boolean
                  example: true
      responses:
        '201':
          description: User registered successfully. Verification code sent to email.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Registration successful. Please check your email for verification code."
                  userId:
                    type: integer
                    example: 1
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/verify-email:
    post:
      tags:
        - Authentication
      summary: Verify email with OTP
      description: Verify email address with OTP code sent to email. Returns access and refresh tokens.
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - code
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
                code:
                  type: string
                  example: "123456"
      responses:
        '200':
          description: Email verified successfully. User is now authenticated.
          content:
            application/json:
              schema:
                type: object
                properties:
                  accessToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  refreshToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                      email:
                        type: string
                      fullName:
                        type: string
                      isVerified:
                        type: boolean
        '400':
          description: Bad request - invalid code or code expired
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/resend-verification:
    post:
      tags:
        - Authentication
      summary: Resend verification code
      description: Resend OTP verification code to email
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
      responses:
        '200':
          description: Verification code resent
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /api/auth/login:
    post:
      tags:
        - Authentication
      summary: Login user
      description: Login with email and password. Email must be verified first.
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
                password:
                  type: string
                  example: password123
      responses:
        '200':
          description: Login successful. Returns access and refresh tokens.
          content:
            application/json:
              schema:
                type: object
                properties:
                  accessToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  refreshToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                      email:
                        type: string
                      fullName:
                        type: string
                      username:
                        type: string
        '400':
          description: Bad request - invalid credentials or email not verified
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/refresh-token:
    post:
      tags:
        - Authentication
      summary: Refresh access token
      description: Get a new access token using refresh token
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refreshToken
              properties:
                refreshToken:
                  type: string
                  example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
      responses:
        '200':
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  accessToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        '400':
          description: Bad request - invalid or expired refresh token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/forgot-password:
    post:
      tags:
        - Authentication
      summary: Request password reset
      description: Request password reset code via email
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
      responses:
        '200':
          description: Reset code sent to email
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Password reset code sent to your email"
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/verify-reset-code:
    post:
      tags:
        - Authentication
      summary: Verify password reset code
      description: Verify the password reset OTP code
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - code
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
                code:
                  type: string
                  example: "123456"
      responses:
        '200':
          description: Reset code verified successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Reset code verified"
                  email:
                    type: string
                    example: user@example.com
        '400':
          description: Bad request - invalid or expired code
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/reset-password:
    post:
      tags:
        - Authentication
      summary: Reset password
      description: Reset password with verified OTP code
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - code
                - newPassword
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
                code:
                  type: string
                  example: "123456"
                newPassword:
                  type: string
                  minLength: 8
                  example: newpassword123
      responses:
        '200':
          description: Password reset successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Password reset successful"
        '400':
          description: Bad request - invalid code or password too short
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/set-password:
    post:
      tags:
        - Authentication
      summary: Set password for authenticated user
      description: Change password for authenticated user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - password
              properties:
                password:
                  type: string
                  minLength: 8
                  example: newpassword123
      responses:
        '200':
          description: Password changed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Password changed successfully"
        '400':
          description: Bad request - password too short
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/auth/logout:
    post:
      tags:
        - Authentication
      summary: Logout user
      description: Logout and invalidate refresh token
      responses:
        '200':
          description: Logged out successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Logged out successfully"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== USER PROFILE ENDPOINTS ====================

  /api/user/profile:
    get:
      tags:
        - User Profile
      summary: Get user profile
      description: Retrieve the authenticated user's complete profile including personal and identification details
      responses:
        '200':
          description: Profile retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      email:
                        type: string
                        example: user@example.com
                      username:
                        type: string
                        example: johndoe1234
                      fullName:
                        type: string
                        example: John Michael Doe
                      firstname:
                        type: string
                        example: John
                      lastname:
                        type: string
                        example: Doe
                      middleName:
                        type: string
                        example: Michael
                      gender:
                        type: string
                        example: Male
                      dateOfBirth:
                        type: string
                        format: date
                        example: "1990-01-15"
                      phone:
                        type: string
                        example: "+1234567890"
                      meansOfIdentification:
                        type: string
                        example: INTERNATIONAL_PASSPORT
                      identificationNumber:
                        type: string
                        example: A12345678
                      identificationExpiry:
                        type: string
                        format: date
                        example: "2030-12-31"
                      countryOfResidency:
                        type: string
                        example: United States
                      contactAddress:
                        type: string
                        example: "123 Main Street, New York, NY 10001"
                      profilePhotoUrl:
                        type: string
                        example: "https://res.cloudinary.com/..."
                      isVerified:
                        type: boolean
                        example: true
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - User Profile
      summary: Update user profile
      description: Update user profile including personal and identification details. All fields are optional.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstname:
                  type: string
                  example: John
                lastname:
                  type: string
                  example: Doe
                middleName:
                  type: string
                  example: Michael
                gender:
                  type: string
                  enum: [Male, Female, Other]
                  example: Male
                dateOfBirth:
                  type: string
                  format: date
                  example: "1990-01-15"
                phone:
                  type: string
                  example: "+1234567890"
                meansOfIdentification:
                  type: string
                  enum: [NIN, VOTERS_CARD, DRIVERS_LICENSE, INTERNATIONAL_PASSPORT]
                  example: INTERNATIONAL_PASSPORT
                identificationNumber:
                  type: string
                  example: A12345678
                identificationExpiry:
                  type: string
                  format: date
                  example: "2030-12-31"
                countryOfResidency:
                  type: string
                  example: United States
                contactAddress:
                  type: string
                  example: "123 Main Street, New York, NY 10001"
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Profile updated successfully"
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                      email:
                        type: string
                      firstname:
                        type: string
                      lastname:
                        type: string
                      middleName:
                        type: string
                      gender:
                        type: string
                      dateOfBirth:
                        type: string
                        format: date
                      phone:
                        type: string
                      meansOfIdentification:
                        type: string
                      identificationNumber:
                        type: string
                      identificationExpiry:
                        type: string
                        format: date
                      countryOfResidency:
                        type: string
                      contactAddress:
                        type: string
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/user/profile/photo:
    post:
      tags:
        - User Profile
      summary: Upload profile photo
      description: Upload profile photo to Cloudinary. Supported formats - JPEG, PNG, PDF. Max size 50MB.
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - file
              properties:
                file:
                  type: string
                  format: binary
                  description: Profile photo file (JPEG, PNG, or PDF)
      responses:
        '200':
          description: Photo uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Profile photo uploaded successfully"
                  profilePhotoUrl:
                    type: string
                    example: "https://res.cloudinary.com/..."
        '400':
          description: No file provided or invalid file type
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== KYC PERSONAL ENDPOINTS ====================

  /api/kyc/personal:
    get:
      tags:
        - KYC Personal
      summary: Get personal KYC profile
      description: Retrieve personal KYC information for the authenticated user
      responses:
        '200':
          description: Personal KYC retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  profile:
                    type: object
                    properties:
                      id:
                        type: integer
                      userId:
                        type: integer
                      middleName:
                        type: string
                      gender:
                        type: string
                      dateOfBirth:
                        type: string
                        format: date
                      meansOfIdentification:
                        type: string
                      identificationNumber:
                        type: string
                      identificationExpiry:
                        type: string
                        format: date
                      countryOfResidency:
                        type: string
                      contactAddress:
                        type: string
                      status:
                        type: string
                        enum: [NOT_STARTED, IN_PROGRESS, SUBMITTED, APPROVED, REJECTED]
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - KYC Personal
      summary: Update personal KYC profile
      description: Create or update personal KYC information. All fields are optional.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                middleName:
                  type: string
                  example: Michael
                gender:
                  type: string
                  example: Male
                dateOfBirth:
                  type: string
                  format: date
                  example: "1990-01-15"
                meansOfIdentification:
                  type: string
                  example: INTERNATIONAL_PASSPORT
                identificationNumber:
                  type: string
                  example: A12345678
                identificationExpiry:
                  type: string
                  format: date
                  example: "2030-12-31"
                countryOfResidency:
                  type: string
                  example: United States
                contactAddress:
                  type: string
                  example: "123 Main Street, New York, NY 10001"
      responses:
        '200':
          description: Personal KYC updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Personal KYC profile created"
                  profile:
                    type: object
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== KYC BUSINESS ENDPOINTS ====================

  /api/kyc/business:
    get:
      tags:
        - KYC Business
      summary: Get business KYC profile
      description: Retrieve business KYC information for the authenticated user
      responses:
        '200':
          description: Business KYC retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  profile:
                    type: object
                    properties:
                      id:
                        type: integer
                      userId:
                        type: integer
                      businessName:
                        type: string
                      companyType:
                        type: string
                      incorporationNumber:
                        type: string
                      dateOfIncorporation:
                        type: string
                        format: date
                      countryOfIncorporation:
                        type: string
                      taxNumber:
                        type: string
                      companyAddress:
                        type: string
                      zipOrPostcode:
                        type: string
                      stateOrProvince:
                        type: string
                      city:
                        type: string
                      businessDescription:
                        type: string
                      companyWebsite:
                        type: string
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - KYC Business
      summary: Update business KYC profile
      description: Create or update business KYC information. Business name is required.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - businessName
              properties:
                businessName:
                  type: string
                  example: "Test Business Ltd"
                companyType:
                  type: string
                  example: "Limited Liability Company"
                incorporationNumber:
                  type: string
                  example: "RC123456"
                dateOfIncorporation:
                  type: string
                  format: date
                  example: "2020-01-01"
                countryOfIncorporation:
                  type: string
                  example: "Nigeria"
                taxNumber:
                  type: string
                  example: "TAX123456"
                companyAddress:
                  type: string
                  example: "456 Business Ave"
                zipOrPostcode:
                  type: string
                  example: "100001"
                stateOrProvince:
                  type: string
                  example: "Lagos"
                city:
                  type: string
                  example: "Lagos"
                businessDescription:
                  type: string
                  example: "E-commerce platform"
                companyWebsite:
                  type: string
                  example: "https://testbusiness.com"
      responses:
        '200':
          description: Business KYC updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Business KYC created"
                  profile:
                    type: object
        '400':
          description: Bad request - business name required or empty
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== KYC DOCUMENTS ENDPOINTS ====================

  /api/kyc/documents:
    get:
      tags:
        - KYC Documents
      summary: Get KYC documents
      description: List all uploaded KYC documents for the authenticated user
      responses:
        '200':
          description: Documents retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  documents:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        userId:
                          type: integer
                        type:
                          type: string
                          enum:
                            - GOVERNMENT_ID
                            - INCORPORATION_CERTIFICATE
                            - ARTICLE_OF_ASSOCIATION
                            - PROOF_OF_ADDRESS
                            - SELFIE_WITH_ID
                            - BANK_STATEMENT
                            - ADDITIONAL
                        url:
                          type: string
                        uploadedAt:
                          type: string
                          format: date-time
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - KYC Documents
      summary: Save KYC documents
      description: Save KYC document URLs. At least one document is required.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - documents
              properties:
                documents:
                  type: array
                  minItems: 1
                  items:
                    type: object
                    required:
                      - type
                      - url
                    properties:
                      type:
                        type: string
                        enum:
                          - GOVERNMENT_ID
                          - INCORPORATION_CERTIFICATE
                          - ARTICLE_OF_ASSOCIATION
                          - PROOF_OF_ADDRESS
                          - SELFIE_WITH_ID
                          - BANK_STATEMENT
                          - ADDITIONAL
                        example: GOVERNMENT_ID
                      url:
                        type: string
                        example: "https://res.cloudinary.com/..."
      responses:
        '200':
          description: Documents saved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "KYC documents saved"
                  count:
                    type: integer
                    example: 2
        '400':
          description: Bad request - no documents provided
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/kyc/documents/upload:
    post:
      tags:
        - KYC Documents
      summary: Upload KYC documents
      description: Upload KYC documents to Cloudinary. Supported formats - JPEG, PNG, PDF. Max size 50MB per file, max 5 files.
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                governmentId:
                  type: string
                  format: binary
                  description: Government issued ID
                incorporationCertificate:
                  type: string
                  format: binary
                  description: Business incorporation certificate
                articleOfAssociation:
                  type: string
                  format: binary
                  description: Article of association
                proofOfAddress:
                  type: string
                  format: binary
                  description: Proof of address
                selfieWithId:
                  type: string
                  format: binary
                  description: Selfie with ID
                bankStatement:
                  type: string
                  format: binary
                  description: Bank statement
                additionalDocuments:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: Additional documents (max 5)
      responses:
        '200':
          description: Documents uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Files uploaded successfully"
                  documents:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                        url:
                          type: string
        '400':
          description: No files provided or invalid file type
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== KYC PEPS ENDPOINTS ====================

  /api/kyc/peps:
    get:
      tags:
        - KYC PEPS
      summary: Get PEPs
      description: List all Politically Exposed Persons for the authenticated user
      responses:
        '200':
          description: PEPs retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  peps:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        userId:
                          type: integer
                        name:
                          type: string
                        position:
                          type: string
                        description:
                          type: string
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - KYC PEPS
      summary: Save PEPs
      description: Save Politically Exposed Persons information
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - peps
              properties:
                peps:
                  type: array
                  items:
                    type: object
                    required:
                      - name
                      - position
                    properties:
                      name:
                        type: string
                        example: "Jane Doe"
                      position:
                        type: string
                        example: "Minister of Finance"
                      description:
                        type: string
                        example: "Senior government official"
      responses:
        '200':
          description: PEPs saved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "PEPs saved"
                  count:
                    type: integer
                    example: 1
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== KYC SUBMISSION ENDPOINTS ====================

  /api/kyc/submit:
    post:
      tags:
        - KYC Submission
      summary: Submit KYC for approval
      description: Submit complete KYC for review and approval. Personal KYC must be complete.
      responses:
        '200':
          description: KYC submitted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "KYC submitted for approval"
                  profile:
                    type: object
                    properties:
                      id:
                        type: integer
                      userId:
                        type: integer
                      status:
                        type: string
                        enum: [NOT_STARTED, IN_PROGRESS, SUBMITTED, APPROVED, REJECTED]
                        example: SUBMITTED
        '400':
          description: Bad request - incomplete KYC information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: KYC profile not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== STORE ENDPOINTS ====================

  /api/store/setup:
    post:
      tags:
        - Store
      summary: Setup store
      description: Create a new store for the authenticated user. Each user can have only one store. Supports logo upload via multipart/form-data.
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - storeUrl
              properties:
                storeName:
                  type: string
                  example: "My Store"
                  description: "Display name for the store"
                businessName:
                  type: string
                  example: "My Awesome Shop"
                  description: "Legal business name"
                storeUrl:
                  type: string
                  example: "my-awesome-shop"
                  description: "3-63 characters, lowercase alphanumeric and hyphens only"
                file:
                  type: string
                  format: binary
                  description: "Store logo image (JPEG, PNG, or PDF). Uploaded to Cloudinary."
                businessSector:
                  type: string
                  example: "Retail"
                tagLine:
                  type: string
                  example: "Your one-stop shop"
                description:
                  type: string
                  example: "We sell amazing products"
                timezone:
                  type: string
                  example: "America/New_York"
                currency:
                  type: string
                  default: USD
                  example: "USD"
                phone:
                  type: string
                  example: "+1234567890"
                address:
                  type: string
                  example: "123 Main St"
                country:
                  type: string
                  example: "United States"
                state:
                  type: string
                  example: "New York"
                city:
                  type: string
                  example: "New York"
                zipCode:
                  type: string
                  example: "10001"
      responses:
        '201':
          description: Store created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Store setup successful"
                  store:
                    type: object
                    properties:
                      id:
                        type: integer
                      storeName:
                        type: string
                      businessName:
                        type: string
                      storeUrl:
                        type: string
                      logoUrl:
                        type: string
                        example: "https://res.cloudinary.com/..."
                      businessSector:
                        type: string
                      tagLine:
                        type: string
                      description:
                        type: string
                      timezone:
                        type: string
                      currency:
                        type: string
                      phone:
                        type: string
                      address:
                        type: string
                      country:
                        type: string
                      state:
                        type: string
                      city:
                        type: string
                      zipCode:
                        type: string
                      isLaunched:
                        type: boolean
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/store:
    get:
      tags:
        - Store
      summary: Get store
      description: Retrieve the authenticated user's store details
      responses:
        '200':
          description: Store retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  store:
                    type: object
                    properties:
                      id:
                        type: integer
                      storeName:
                        type: string
                      businessName:
                        type: string
                      storeUrl:
                        type: string
                      logoUrl:
                        type: string
                        example: "https://res.cloudinary.com/..."
                      businessSector:
                        type: string
                      tagLine:
                        type: string
                      description:
                        type: string
                      timezone:
                        type: string
                      currency:
                        type: string
                      phone:
                        type: string
                      address:
                        type: string
                      country:
                        type: string
                      state:
                        type: string
                      city:
                        type: string
                      zipCode:
                        type: string
                      isLaunched:
                        type: boolean
                      createdAt:
                        type: string
                        format: date-time
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Store not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - Store
      summary: Update store
      description: Update the authenticated user's store details. Store URL cannot be changed. Supports logo upload via multipart/form-data.
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                storeName:
                  type: string
                  example: "Updated Store Name"
                businessName:
                  type: string
                  example: "Updated Shop Name"
                file:
                  type: string
                  format: binary
                  description: "Store logo image (JPEG, PNG, or PDF). Uploaded to Cloudinary."
                businessSector:
                  type: string
                  example: "E-commerce"
                tagLine:
                  type: string
                  example: "New tagline"
                description:
                  type: string
                  example: "Updated description"
                timezone:
                  type: string
                  example: "America/Los_Angeles"
                currency:
                  type: string
                  example: "CAD"
                phone:
                  type: string
                  example: "+1987654321"
                address:
                  type: string
                  example: "456 Oak Ave"
                country:
                  type: string
                  example: "Canada"
                state:
                  type: string
                  example: "Ontario"
                city:
                  type: string
                  example: "Toronto"
                zipCode:
                  type: string
                  example: "M5H 2N2"
      responses:
        '200':
          description: Store updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Store updated successfully"
                  store:
                    type: object
                    properties:
                      id:
                        type: integer
                      storeName:
                        type: string
                      businessName:
                        type: string
                      storeUrl:
                        type: string
                      logoUrl:
                        type: string
                        example: "https://res.cloudinary.com/..."
                      businessSector:
                        type: string
                      tagLine:
                        type: string
                      description:
                        type: string
                      timezone:
                        type: string
                      currency:
                        type: string
                      phone:
                        type: string
                      address:
                        type: string
                      country:
                        type: string
                      state:
                        type: string
                      city:
                        type: string
                      zipCode:
                        type: string
                      isLaunched:
                        type: boolean
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Store not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/store/launch:
    post:
      tags:
        - Store
      summary: Launch store
      description: Launch the authenticated user's store. Once launched, the store becomes publicly accessible.
      responses:
        '200':
          description: Store launched successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Store launched successfully"
                  store:
                    type: object
                    properties:
                      id:
                        type: integer
                      storeName:
                        type: string
                      businessName:
                        type: string
                      storeUrl:
                        type: string
                      logoUrl:
                        type: string
                        example: "https://res.cloudinary.com/..."
                      businessSector:
                        type: string
                      tagLine:
                        type: string
                      description:
                        type: string
                      timezone:
                        type: string
                      currency:
                        type: string
                      phone:
                        type: string
                      address:
                        type: string
                      country:
                        type: string
                      state:
                        type: string
                      city:
                        type: string
                      zipCode:
                        type: string
                      isLaunched:
                        type: boolean
                        example: true
        '400':
          description: Bad request - store already launched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Store not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/store/storefront/{storeUrl}:
    get:
      tags:
        - Store
      summary: Get public storefront by URL
      description: Retrieve complete storefront data including products, categories, brands, shipping, and settings. This is a public endpoint that doesn't require authentication. Only launched stores are accessible.
      security: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-awesome-shop"
          description: Store URL slug
      responses:
        '200':
          description: Storefront data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  store:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      businessName:
                        type: string
                        example: "My Awesome Shop"
                      storeUrl:
                        type: string
                        example: "my-awesome-shop"
                      country:
                        type: string
                        example: "United States"
                      currency:
                        type: string
                        example: "USD"
                      isLaunched:
                        type: boolean
                        example: true
                      products:
                        type: array
                        description: All non-hidden products with pricings, categories, description details, and options
                        items:
                          type: object
                      categories:
                        type: array
                        description: All categories with their associated products
                        items:
                          type: object
                      brands:
                        type: array
                        description: All brands for the store
                        items:
                          type: object
                      shipping:
                        type: object
                        nullable: true
                        description: Shipping configuration if exists
                      shippingMethods:
                        type: array
                        description: Available shipping methods
                        items:
                          type: object
                      settings:
                        type: object
                        nullable: true
                        description: General store settings if exists
                      primaryLocation:
                        type: object
                        nullable: true
                        description: Primary store location if exists
        '400':
          description: Bad request - store not launched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Store not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== CUSTOMER ENDPOINTS ====================

  /api/stores/{storeId}/customers:
    get:
      tags:
        - Customers
      summary: Get all customers
      description: Retrieve paginated list of customers for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Number of customers per page
        - name: search
          in: query
          required: false
          schema:
            type: string
          description: Search customers by name, email or phone
        - name: customerGroupId
          in: query
          required: false
          schema:
            type: integer
          description: Filter customers by customer group ID
      responses:
        '200':
          description: Customers retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      customers:
                        type: array
                        items:
                          $ref: '#/components/schemas/Customer'
                      pagination:
                        $ref: '#/components/schemas/Pagination'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      tags:
        - Customers
      summary: Create a new customer
      description: Create a new customer for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - firstName
                - lastName
                - email
              properties:
                firstName:
                  type: string
                  example: John
                lastName:
                  type: string
                  example: Doe
                email:
                  type: string
                  format: email
                  example: john.doe@example.com
                phone:
                  type: string
                  example: +1234567890
                instagramHandle:
                  type: string
                  example: "@johndoe"
                additionalInfo:
                  type: string
                  example: VIP customer
                customerGroupId:
                  type: integer
                  example: 1
                shippingAddress:
                  type: string
                  example: 123 Main St
                shippingCountry:
                  type: string
                  example: USA
                shippingState:
                  type: string
                  example: CA
                shippingCity:
                  type: string
                  example: Los Angeles
                shippingZipCode:
                  type: string
                  example: 90001
                billingAddress:
                  type: string
                  example: 456 Oak Ave
                billingCountry:
                  type: string
                  example: USA
                billingState:
                  type: string
                  example: CA
                billingCity:
                  type: string
                  example: Los Angeles
                billingZipCode:
                  type: string
                  example: 90002
                sameAsShippingAddress:
                  type: boolean
                  example: false
                sendWelcomeEmail:
                  type: boolean
                  example: true
                subscribedToNewsletter:
                  type: boolean
                  example: true
      responses:
        '201':
          description: Customer created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/Customer'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/stores/{storeId}/customers/stats:
    get:
      tags:
        - Customers
      summary: Get customer statistics
      description: Retrieve statistics about customers for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      responses:
        '200':
          description: Statistics retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/CustomerStats'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/stores/{storeId}/customers/export:
    get:
      tags:
        - Customers
      summary: Export customers to CSV
      description: Export all customers for a specific store as CSV file
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      responses:
        '200':
          description: CSV file generated successfully
          content:
            text/csv:
              schema:
                type: string
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/customers/{id}:
    get:
      tags:
        - Customers
      summary: Get customer by ID
      description: Retrieve a specific customer by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Customer ID
      responses:
        '200':
          description: Customer retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/Customer'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Customers
      summary: Update customer
      description: Update a specific customer by ID. All fields are optional.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Customer ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                lastName:
                  type: string
                email:
                  type: string
                phone:
                  type: string
                instagramHandle:
                  type: string
                additionalInfo:
                  type: string
                customerGroupId:
                  type: integer
                shippingAddress:
                  type: string
                shippingCountry:
                  type: string
                shippingState:
                  type: string
                shippingCity:
                  type: string
                shippingZipCode:
                  type: string
                billingAddress:
                  type: string
                billingCountry:
                  type: string
                billingState:
                  type: string
                billingCity:
                  type: string
                billingZipCode:
                  type: string
                sameAsShippingAddress:
                  type: boolean
                subscribedToNewsletter:
                  type: boolean
      responses:
        '200':
          description: Customer updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/Customer'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      tags:
        - Customers
      summary: Delete customer
      description: Delete a specific customer by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Customer ID
      responses:
        '200':
          description: Customer deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                    example: Customer deleted successfully
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

# ==================== CUSTOMER GROUP ENDPOINTS ====================

  /api/stores/{storeId}/customer-groups:
    get:
      tags:
        - Customer Groups
      summary: Get all customer groups
      description: Retrieve paginated list of customer groups for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Number of groups per page
        - name: search
          in: query
          required: false
          schema:
            type: string
          description: Search groups by name or description
      responses:
        '200':
          description: Customer groups retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      customerGroups:
                        type: array
                        items:
                          $ref: '#/components/schemas/CustomerGroup'
                      pagination:
                        $ref: '#/components/schemas/Pagination'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      tags:
        - Customer Groups
      summary: Create a new customer group
      description: Create a new customer group for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: VIP Customers
                description:
                  type: string
                  example: High-value customers with special privileges
      responses:
        '201':
          description: Customer group created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/CustomerGroup'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/stores/{storeId}/customer-groups/export:
    get:
      tags:
        - Customer Groups
      summary: Export customer groups to CSV
      description: Export all customer groups for a specific store as CSV file
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      responses:
        '200':
          description: CSV file generated successfully
          content:
            text/csv:
              schema:
                type: string
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/customer-groups/{id}:
    get:
      tags:
        - Customer Groups
      summary: Get customer group by ID
      description: Retrieve a specific customer group by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Customer Group ID
      responses:
        '200':
          description: Customer group retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/CustomerGroup'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Customer Groups
      summary: Update customer group
      description: Update a specific customer group by ID. All fields are optional.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Customer Group ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
      responses:
        '200':
          description: Customer group updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/CustomerGroup'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      tags:
        - Customer Groups
      summary: Delete customer group
      description: Delete a specific customer group by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Customer Group ID
      responses:
        '200':
          description: Customer group deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                    example: Customer group deleted successfully
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== NEWSLETTER ENDPOINTS ====================

  /api/stores/{storeId}/newsletter/subscribe:
    post:
      tags:
        - Newsletter
      summary: Subscribe to newsletter
      description: Subscribe an email address to the store's newsletter. Public endpoint, no authentication required.
      security: []
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: subscriber@example.com
                firstName:
                  type: string
                  example: John
                lastName:
                  type: string
                  example: Doe
      responses:
        '200':
          description: Successfully subscribed to newsletter
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Successfully subscribed to newsletter"
        '400':
          description: Bad request - invalid email or already subscribed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/stores/{storeId}/newsletter/unsubscribe:
    post:
      tags:
        - Newsletter
      summary: Unsubscribe from newsletter
      description: Unsubscribe an email address from the store's newsletter. Public endpoint, no authentication required.
      security: []
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: subscriber@example.com
      responses:
        '200':
          description: Successfully unsubscribed from newsletter
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Successfully unsubscribed from newsletter"
        '400':
          description: Bad request - email not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/stores/{storeId}/newsletter/subscribers:
    get:
      tags:
        - Newsletter
      summary: Get newsletter subscribers
      description: Retrieve paginated list of newsletter subscribers for a specific store. Requires authentication.
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Number of subscribers per page
        - name: search
          in: query
          required: false
          schema:
            type: string
          description: Search subscribers by email or name
      responses:
        '200':
          description: Subscribers retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      subscribers:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                            email:
                              type: string
                            firstName:
                              type: string
                            lastName:
                              type: string
                            subscribedAt:
                              type: string
                              format: date-time
                      pagination:
                        $ref: '#/components/schemas/Pagination'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/stores/{storeId}/newsletter/stats:
    get:
      tags:
        - Newsletter
      summary: Get newsletter statistics
      description: Retrieve statistics about newsletter subscribers for a specific store. Requires authentication.
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      responses:
        '200':
          description: Statistics retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      totalSubscribers:
                        type: integer
                        example: 150
                      newSubscribersThisMonth:
                        type: integer
                        example: 25
                      unsubscribedCount:
                        type: integer
                        example: 10
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/jso

  /api/categories/{storeId}:
    get:
      tags:
        - Categories
      summary: Get all categories
      description: Retrieve all product categories for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Number of categories per page
        - name: categoryName
          in: query
          required: false
          schema:
            type: string
          description: Filter categories by name
      responses:
        '200':
          description: Categories retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Categories retrieved successfully."
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Category'
                  meta:
                    $ref: '#/components/schemas/Pagination'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    post:
      tags:
        - Categories
      summary: Create a new category
      description: Create a new product category for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "Electronics"
                description:
                  type: string
                  example: "Electronic devices and accessories"
                image:
                  type: string
                  example: "https://example.com/category-image.jpg"
      responses:
        '201':
          description: Category created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Category created successfully."
                  data:
                    $ref: '#/components/schemas/Category'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/categories/{storeId}/{categoryId}:
    get:
      tags:
        - Categories
      summary: Get category by ID
      description: Retrieve a specific category by ID for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
        - name: categoryId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Category ID
      responses:
        '200':
          description: Category retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Category retrieved successfully."
                  data:
                    $ref: '#/components/schemas/Category'
        '404':
          description: Category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - Categories
      summary: Update category
      description: Update a category by ID for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
        - name: categoryId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Category ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Updated Electronics"
                description:
                  type: string
                  example: "Updated description"
                image:
                  type: string
                  example: "https://example.com/updated-image.jpg"
      responses:
        '200':
          description: Category updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Category updated successfully."
                  data:
                    $ref: '#/components/schemas/Category'
        '404':
          description: Category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    delete:
      tags:
        - Categories
      summary: Delete category
      description: Delete a category by ID for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
        - name: categoryId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Category ID
      responses:
        '200':
          description: Category deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Category deleted successfully."
                  data:
                    type: object
                    nullable: true
        '404':
          description: Category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== PRODUCT ENDPOINTS ====================

  /api/products/{storeId}:
    get:
      tags:
        - Products
      summary: Get all products
      description: Retrieve all products for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Number of products per page
        - name: categoryId
          in: query
          required: false
          schema:
            type: integer
          description: Filter products by category ID
        - name: productName
          in: query
          required: false
          schema:
            type: string
          description: Filter products by name
        - name: sortByPrice
          in: query
          required: false
          schema:
            type: string
            enum: [highest, lowest]
          description: Sort products by price
      responses:
        '200':
          description: Products retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Products retrieved successfully."
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
                  meta:
                    $ref: '#/components/schemas/Pagination'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    post:
      tags:
        - Products
      summary: Create a new product
      description: Create a new product for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - productImages
                - shortDescription
                - stockQuantity
                - pricings
                - descriptionDetails
                - options
                - categories
              properties:
                name:
                  type: string
                  example: "Wireless Headphones"
                productImages:
                  type: array
                  items:
                    type: string
                  example: ["https://example.com/product1.jpg", "https://example.com/product2.jpg"]
                shortDescription:
                  type: string
                  example: "High-quality wireless headphones with noise cancellation"
                stockQuantity:
                  type: integer
                  example: 100
                type:
                  type: string
                  enum: [REGULAR, VARIANT]
                  default: REGULAR
                  example: REGULAR
                longDescription:
                  type: string
                  example: "Detailed product description with features and specifications"
                customProductUrl:
                  type: string
                  example: "wireless-headphones-pro"
                seoDescription:
                  type: string
                  example: "Premium wireless headphones with active noise cancellation"
                checkoutButtonCta:
                  type: string
                  default: "Buy Now"
                  example: "Add to Cart"
                hideFromHomepage:
                  type: boolean
                  default: false
                unit:
                  type: string
                  example: "pieces"
                barcode:
                  type: string
                  example: "1234567890123"
                minOrderQuantity:
                  type: integer
                  default: 1
                  example: 1
                maxOrderQuantity:
                  type: integer
                  example: 10
                isPreOrder:
                  type: boolean
                  default: false
                preOrderReleaseDate:
                  type: string
                  format: date-time
                showStrikedOutOriginalPrice:
                  type: boolean
                  default: false
                embedVideoPath:
                  type: string
                  example: "https://youtube.com/watch?v=example"
                discoveryCategories:
                  type: array
                  items:
                    type: string
                  example: ["electronics", "audio"]
                commissionPercentage:
                  type: number
                  format: float
                  example: 5.5
                autoRedirectAfterPurchase:
                  type: boolean
                  default: false
                redirectUrl:
                  type: string
                  example: "https://thank-you-page.com"
                pricings:
                  type: array
                  items:
                    $ref: '#/components/schemas/ProductPricingInput'
                descriptionDetails:
                  type: array
                  items:
                    $ref: '#/components/schemas/ProductDescriptionDetailInput'
                options:
                  type: array
                  items:
                    $ref: '#/components/schemas/ProductOptionInput'
                categories:
                  type: array
                  items:
                    type: integer
                  example: [1, 2]
                upsellProductIds:
                  type: array
                  items:
                    type: integer
                  example: [5, 6]
                crossSellProductIds:
                  type: array
                  items:
                    type: integer
                  example: [7, 8]
      responses:
        '201':
          description: Product created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Product created successfully."
                  data:
                    $ref: '#/components/schemas/Product'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/products/{productId}:
    get:
      tags:
        - Products
      summary: Get product by ID
      description: Retrieve a specific product by ID
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Product ID
      responses:
        '200':
          description: Product retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Product retrieved successfully."
                  data:
                    $ref: '#/components/schemas/Product'
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - Products
      summary: Update product
      description: Update a product by ID
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Product ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Updated Wireless Headphones"
                productImages:
                  type: array
                  items:
                    type: string
                  example: ["https://example.com/updated-product1.jpg"]
                shortDescription:
                  type: string
                  example: "Updated description"
                stockQuantity:
                  type: integer
                  example: 150
                longDescription:
                  type: string
                  example: "Updated detailed description"
                customProductUrl:
                  type: string
                  example: "updated-wireless-headphones"
                seoDescription:
                  type: string
                  example: "Updated SEO description"
                checkoutButtonCta:
                  type: string
                  example: "Buy Now"
                hideFromHomepage:
                  type: boolean
                  example: false
                unit:
                  type: string
                  example: "pieces"
                barcode:
                  type: string
                  example: "1234567890124"
                minOrderQuantity:
                  type: integer
                  example: 1
                maxOrderQuantity:
                  type: integer
                  example: 10
                isPreOrder:
                  type: boolean
                  example: false
                preOrderReleaseDate:
                  type: string
                  format: date-time
                showStrikedOutOriginalPrice:
                  type: boolean
                  example: false
                embedVideoPath:
                  type: string
                  example: "https://youtube.com/watch?v=updated"
                discoveryCategories:
                  type: array
                  items:
                    type: string
                  example: ["electronics", "audio", "updated"]
                commissionPercentage:
                  type: number
                  format: float
                  example: 5.5
                autoRedirectAfterPurchase:
                  type: boolean
                  example: false
                redirectUrl:
                  type: string
                  example: "https://updated-thank-you-page.com"
                pricings:
                  type: array
                  items:
                    $ref: '#/components/schemas/ProductPricingInput'
                descriptionDetails:
                  type: array
                  items:
                    $ref: '#/components/schemas/ProductDescriptionDetailInput'
                options:
                  type: array
                  items:
                    $ref: '#/components/schemas/ProductOptionInput'
                categories:
                  type: array
                  items:
                    type: integer
                  example: [1, 2]
                upsellProductIds:
                  type: array
                  items:
                    type: integer
                  example: [5, 6]
                crossSellProductIds:
                  type: array
                  items:
                    type: integer
                  example: [7, 8]
      responses:
        '200':
          description: Product updated successfully

          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Product updated successfully."
                  data:
                    $ref: '#/components/schemas/Product'
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    delete:
      tags:
        - Products
      summary: Delete product
      description: Delete a product by ID
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Product ID
      responses:
        '200':
          description: Product deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Product deleted successfully."
                  data:
                    type: object
                    nullable: true
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== BRAND ENDPOINTS ====================

  /api/brands/{storeId}:
    post:
      tags:
        - Brands
      summary: Create brand
      description: Create a new brand for the store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "Nike"
                description:
                  type: string
                  example: "Premium athletic brand"
                file:
                  type: string
                  format: binary
                  description: Brand image (JPEG, PNG, or PDF)
      responses:
        '201':
          description: Brand created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Brand'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict - brand name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    get:
      tags:
        - Brands
      summary: Get brands
      description: Get all brands for a store with pagination and search
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
        - name: search
          in: query
          schema:
            type: string
          description: Search by variant name
          example: "Size"
        - name: page
          in: query
          schema:
            type: integer
            default: 1
          example: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
          example: 10
      responses:
        '200':
          description: Product variants retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      brands:
                        type: array
                        items:
                          $ref: '#/components/schemas/Brand'
                      pagination:
                        $ref: '#/components/schemas/Pagination'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/brands/{storeId}/export:
    get:
      tags:
        - Brands
      summary: Export brands to CSV
      description: Export all brands for a store as CSV file
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: CSV file generated successfully
          content:
            text/csv:
              schema:
                type: string
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/brands/{storeId}/{id}:
    get:
      tags:
        - Brands
      summary: Get brand by ID
      description: Get a specific brand by ID
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Brand retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Brand'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Brand not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/brands/{id}:
    put:
      tags:
        - Brands
      summary: Update brand
      description: Update a brand by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Nike"
                description:
                  type: string
                  example: "Premium athletic brand"
                file:
                  type: string
                  format: binary
                  description: Brand image (JPEG, PNG, or PDF)
      responses:
        '200':
          description: Brand updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Brand'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Brand not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    delete:
      tags:
        - Brands
      summary: Delete brand
      description: Delete a brand by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Brand deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Brand deleted successfully"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Brand not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/product-variants/{storeId}:
    post:
      tags:
        - Product Variants
      summary: Create product variant
      description: Create a new product variant for a store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "Size"
                hasMultipleOptions:
                  type: boolean
                  example: true
                options:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                  example:
                    - name: "Small"
                    - name: "Medium"
                    - name: "Large"
      responses:
        '201':
          description: Product variant created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/ProductVariant'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    get:
      tags:
        - Product Variants
      summary: Get product variants
      description: Get all product variants for a store with pagination and search
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
        - name: search
          in: query
          schema:
            type: string
          description: Search by variant name
          example: "Size"
        - name: page
          in: query
          schema:
            type: integer
            default: 1
          example: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
          example: 10
      responses:
        '200':
          description: Product variants retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      variants:
                        type: array
                        items:
                          $ref: '#/components/schemas/ProductVariant'
                      pagination:
                        $ref: '#/components/schemas/Pagination'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/product-variants/{storeId}/export:
    get:
      tags:
        - Product Variants
      summary: Export product variants to CSV
      description: Export all product variants for a store as CSV file
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: CSV file generated successfully
          content:
            text/csv:
              schema:
                type: string
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/product-variants/{storeId}/{id}:
    get:
      tags:
        - Product Variants
      summary: Get product variant by ID
      description: Get a specific product variant by ID
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
            example: 1
        - name: id
          in: path
          required: true
          schema:
            type: integer
            example: 1
      responses:
        '200':
          description: Product variant retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/ProductVariant'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Product variant not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/product-variants/{id}:
    put:
      tags:
        - Product Variants
      summary: Update product variant
      description: Update a product variant by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Size"
                hasMultipleOptions:
                  type: boolean
                  example: true
                options:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                  example:
                    - name: "Small"
                    - name: "Medium"
                    - name: "Large"
                    - name: "Extra Large"
      responses:
        '200':
          description: Product variant updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/ProductVariant'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Product variant not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    delete:
      tags:
        - Product Variants
      summary: Delete product variant
      description: Delete a product variant by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Product variant deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Product variant deleted successfully"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Product variant not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/stores/{storeId}/units:
    post:
      tags:
        - Units
      summary: Create a new unit
      description: Create a new unit for a store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "Kilogram"
                status:
                  type: string
                  enum: [active, inactive]
                  example: "active"
      responses:
        '201':
          description: Unit created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Unit'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict - unit name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    get:
      tags:
        - Units
      summary: Get all units
      description: Retrieve all units for a store with optional filtering and pagination
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
        - name: search
          in: query
          required: false
          schema:
            type: string
          example: "kg"
        - name: status
          in: query
          required: false
          schema:
            type: string
            enum: [active, inactive]
          example: "active"
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          example: 1
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 10
          example: 10
      responses:
        '200':
          description: Units retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      units:
                        type: array
                        items:
                          $ref: '#/components/schemas/Unit'
                      pagination:
                        type: object
                        properties:
                          total:
                            type: integer
                            example: 50
                          page:
                            type: integer
                            example: 1
                          limit:
                            type: integer
                            example: 10
                          totalPages:
                            type: integer
                            example: 5
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/stores/{storeId}/units/export:
    get:
      tags:
        - Units
      summary: Export units as CSV
      description: Export all units for a store as CSV file
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: CSV file generated successfully
          content:
            text/csv:
              schema:
                type: string
                format: binary
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/units/{id}:
    get:
      tags:
        - Units
      summary: Get unit by ID
      description: Retrieve a specific unit by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Unit retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Unit'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Unit not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - Units
      summary: Update unit
      description: Update a unit by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Updated Living Room Furniture"
                status:
                  type: string
                  enum: [active, inactive]
                  example: "active"
      responses:
        '200':
          description: Unit updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Unit'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Unit not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict - unit name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    delete:
      tags:
        - Units
      summary: Delete unit
      description: Delete a unit by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Unit deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Unit deleted successfully"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Unit not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== CUSTOMER AUTHENTICATION ENDPOINTS ====================

  /storefront/{storeUrl}/auth/register:
    post:
      tags:
        - Customer Authentication
      summary: Register a new customer
      description: Register a new customer with email and password. Sends verification code to email.
      security: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-store"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - firstName
                - lastName
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: customer@example.com
                firstName:
                  type: string
                  example: John
                lastName:
                  type: string
                  example: Doe
                password:
                  type: string
                  minLength: 8
                  example: password123
      responses:
        '201':
          description: Customer registered successfully. Verification code sent to email.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Registration successful. Please check your email for verification code."
                  customerId:
                    type: integer
                    example: 1
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /storefront/{storeUrl}/auth/verify-email:
    post:
      tags:
        - Customer Authentication
      summary: Verify customer email with OTP
      description: Verify customer email address with OTP code sent to email. Returns access and refresh tokens.
      security: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-store"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - code
              properties:
                email:
                  type: string
                  format: email
                  example: customer@example.com
                code:
                  type: string
                  example: "123456"
      responses:
        '200':
          description: Email verified successfully. Customer is now authenticated.
          content:
            application/json:
              schema:
                type: object
                properties:
                  accessToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  refreshToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  customer:
                    type: object
                    properties:
                      id:
                        type: integer
                      email:
                        type: string
                      firstName:
                        type: string
                      lastName:
                        type: string
                      isVerified:
                        type: boolean
        '400':
          description: Bad request - invalid code or code expired
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /storefront/{storeUrl}/auth/resend-verification:
    post:
      tags:
        - Customer Authentication
      summary: Resend customer verification code
      description: Resend OTP verification code to customer email
      security: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-store"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: customer@example.com
      responses:
        '200':
          description: Verification code resent
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Verification code resent successfully"
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /storefront/{storeUrl}/auth/login:
    post:
      tags:
        - Customer Authentication
      summary: Login customer
      description: Login with email and password. Email must be verified first.
      security: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-store"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: customer@example.com
                password:
                  type: string
                  example: password123
      responses:
        '200':
          description: Login successful. Returns access and refresh tokens.
          content:
            application/json:
              schema:
                type: object
                properties:
                  accessToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  refreshToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  customer:
                    type: object
                    properties:
                      id:
                        type: integer
                      email:
                        type: string
                      firstName:
                        type: string
                      lastName:
                        type: string
        '400':
          description: Bad request - invalid credentials or email not verified
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /storefront/{storeUrl}/auth/refresh-token:
    post:
      tags:
        - Customer Authentication
      summary: Refresh customer access token
      description: Get a new customer access token using refresh token
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refreshToken
              properties:
                refreshToken:
                  type: string
                  example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
      responses:
        '200':
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  accessToken:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        '400':
          description: Bad request - invalid or expired refresh token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /storefront/{storeUrl}/auth/forgot-password:
    post:
      tags:
        - Customer Authentication
      summary: Request customer password reset
      description: Request password reset code via email
      security: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-store"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: customer@example.com
      responses:
        '200':
          description: Reset code sent to email
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Password reset code sent to your email"
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /storefront/{storeUrl}/auth/verify-reset-code:
    post:
      tags:
        - Customer Authentication
      summary: Verify customer password reset code
      description: Verify the customer password reset OTP code
      security: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-store"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - code
              properties:
                email:
                  type: string
                  format: email
                  example: customer@example.com
                code:
                  type: string
                  example: "123456"
      responses:
        '200':
          description: Reset code verified successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Reset code verified"
                  email:
                    type: string
                    example: customer@example.com
        '400':
          description: Bad request - invalid or expired code
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /storefront/{storeUrl}/auth/reset-password:
    post:
      tags:
        - Customer Authentication
      summary: Reset customer password
      description: Reset customer password with verified OTP code
      security: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-store"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - code
                - newPassword
              properties:
                email:
                  type: string
                  format: email
                  example: customer@example.com
                code:
                  type: string
                  example: "123456"
                newPassword:
                  type: string
                  minLength: 8
                  example: newpassword123
      responses:
        '200':
          description: Password reset successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Password reset successful"
        '400':
          description: Bad request - invalid code or password too short
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /storefront/{storeUrl}/auth/logout:
    post:
      tags:
        - Customer Authentication
      summary: Logout customer
      description: Logout customer and invalidate refresh token
      security:
        - customerBearerAuth: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-store"
      responses:
        '200':
          description: Logged out successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Logged out successfully"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /storefront/{storeUrl}/customer/profile:
    put:
      tags:
        - Customer Authentication
      summary: Update customer profile
      description: Update customer profile information
      security:
        - customerBearerAuth: []
      parameters:
        - name: storeUrl
          in: path
          required: true
          schema:
            type: string
          example: "my-store"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                  example: John
                lastName:
                  type: string
                  example: Doe
                phone:
                  type: string
                  example: "+1234567890"
                instagramHandle:
                  type: string
                  example: "@johndoe"
                additionalInfo:
                  type: string
                  example: "VIP customer"
                shippingAddress:
                  type: string
                  example: "123 Main St, City, Country"
                shippingCountry:
                  type: string
                  example: "United States"
                shippingState:
                  type: string
                  example: "California"
                shippingCity:
                  type: string
                  example: "Los Angeles"
                shippingZipCode:
                  type: string
                  example: "90210"
                billingAddress:
                  type: string
                  example: "456 Billing Ave, City, Country"
                billingCountry:
                  type: string
                  example: "United States"
                billingState:
                  type: string
                  example: "California"
                billingCity:
                  type: string
                  example: "Los Angeles"
                billingZipCode:
                  type: string
                  example: "90210"
                sameAsShippingAddress:
                  type: boolean
                  example: true
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Profile updated successfully"
                  customer:
                    $ref: '#/components/schemas/Customer'
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== WAREHOUSE ENDPOINTS ====================

  /api/warehouses/{storeId}:
    post:
      tags:
        - Warehouses
      summary: Create a new warehouse
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                address:
                  type: string
                city:
                  type: string
                state:
                  type: string
                country:
                  type: string
                zipCode:
                  type: string
                phone:
                  type: string
                isActive:
                  type: boolean
      responses:
        '201':
          description: Warehouse created successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    get:
      tags:
        - Warehouses
      summary: Get all warehouses with pagination
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: search
          in: query
          schema:
            type: string
        - name: isActive
          in: query
          schema:
            type: boolean
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of warehouses
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/warehouses/{storeId}/all:
    get:
      tags:
        - Warehouses
      summary: Get all active warehouses
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of all active warehouses
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/warehouses/{storeId}/export:
    get:
      tags:
        - Warehouses
      summary: Export warehouses to CSV
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: CSV file
          content:
            text/csv:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/warehouses/{storeId}/{id}:
    get:
      tags:
        - Warehouses
      summary: Get warehouse by ID
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Warehouse details
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Warehouse not found

  /api/warehouses/{id}:
    put:
      tags:
        - Warehouses
      summary: Update warehouse
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                address:
                  type: string
                city:
                  type: string
                state:
                  type: string
                country:
                  type: string
                zipCode:
                  type: string
                phone:
                  type: string
                isActive:
                  type: boolean
      responses:
        '200':
          description: Warehouse updated successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      tags:
        - Warehouses
      summary: Delete warehouse
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Warehouse deleted successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # ==================== SUPPLIER ENDPOINTS ====================

  /api/suppliers/{storeId}:
    post:
      tags:
        - Suppliers
      summary: Create a new supplier
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                email:
                  type: string
                phone:
                  type: string
                address:
                  type: string
                city:
                  type: string
                state:
                  type: string
                country:
                  type: string
                zipCode:
                  type: string
                contactPerson:
                  type: string
                notes:
                  type: string
                isActive:
                  type: boolean
      responses:
        '201':
          description: Supplier created successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    get:
      tags:
        - Suppliers
      summary: Get all suppliers with pagination
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: search
          in: query
          schema:
            type: string
        - name: isActive
          in: query
          schema:
            type: boolean
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of suppliers
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/suppliers/{storeId}/all:
    get:
      tags:
        - Suppliers
      summary: Get all active suppliers
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of all active suppliers
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/suppliers/{storeId}/export:
    get:
      tags:
        - Suppliers
      summary: Export suppliers to CSV
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: CSV file
          content:
            text/csv:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/suppliers/{storeId}/{id}:
    get:
      tags:
        - Suppliers
      summary: Get supplier by ID
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Supplier details
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Supplier not found

  /api/suppliers/{id}:
    put:
      tags:
        - Suppliers
      summary: Update supplier
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                email:
                  type: string
                phone:
                  type: string
                address:
                  type: string
                city:
                  type: string
                state:
                  type: string
                country:
                  type: string
                zipCode:
                  type: string
                contactPerson:
                  type: string
                notes:
                  type: string
                isActive:
                  type: boolean
      responses:
        '200':
          description: Supplier updated successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      tags:
        - Suppliers
      summary: Delete supplier
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Supplier deleted successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # ==================== STOCK LOT ENDPOINTS ====================

  /api/stock-lots/{storeId}:
    post:
      tags:
        - Stock Lots
      summary: Create a new stock lot (purchase order)
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - warehouseId
                - supplierId
                - productId
                - lotReferenceNo
                - purchaseDate
                - quantity
                - purchasePrice
              properties:
                warehouseId:
                  type: integer
                supplierId:
                  type: integer
                productId:
                  type: integer
                lotReferenceNo:
                  type: string
                purchaseDate:
                  type: string
                  format: date
                quantity:
                  type: integer
                purchasePrice:
                  type: number
                otherCharges:
                  type: number
                discount:
                  type: number
                status:
                  type: string
                  enum: [PENDING, DELIVERED, CANCELLED]
                notes:
                  type: string
                createdBy:
                  type: string
      responses:
        '201':
          description: Stock lot created successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    get:
      tags:
        - Stock Lots
      summary: Get all stock lots with pagination
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: search
          in: query
          schema:
            type: string
        - name: warehouseId
          in: query
          schema:
            type: integer
        - name: supplierId
          in: query
          schema:
            type: integer
        - name: status
          in: query
          schema:
            type: string
            enum: [PENDING, DELIVERED, CANCELLED]
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of stock lots
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stock-lots/{storeId}/all:
    get:
      tags:
        - Stock Lots
      summary: Get all stock lots
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of all stock lots
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stock-lots/{storeId}/import:
    post:
      tags:
        - Stock Lots
      summary: Import stock lots from CSV
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                lots:
                  type: array
                  items:
                    type: object
      responses:
        '200':
          description: Import results
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stock-lots/{storeId}/export:
    get:
      tags:
        - Stock Lots
      summary: Export stock lots to CSV
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: CSV file
          content:
            text/csv:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stock-lots/{storeId}/{id}:
    get:
      tags:
        - Stock Lots
      summary: Get stock lot by ID
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Stock lot details
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Stock lot not found

  /api/stock-lots/{id}:
    put:
      tags:
        - Stock Lots
      summary: Update stock lot
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                warehouseId:
                  type: integer
                supplierId:
                  type: integer
                productId:
                  type: integer
                purchaseDate:
                  type: string
                  format: date
                quantity:
                  type: integer
                purchasePrice:
                  type: number
                otherCharges:
                  type: number
                discount:
                  type: number
                status:
                  type: string
                  enum: [PENDING, DELIVERED, CANCELLED]
                notes:
                  type: string
      responses:
        '200':
          description: Stock lot updated successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      tags:
        - Stock Lots
      summary: Delete stock lot
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Stock lot deleted successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # ==================== STOCK ADJUSTMENT ENDPOINTS ====================

  /api/stock-adjustments/{storeId}:
    post:
      tags:
        - Stock Adjustments
      summary: Create a new stock adjustment
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - warehouseId
                - productId
                - adjustmentDate
                - quantity
                - type
              properties:
                warehouseId:
                  type: integer
                productId:
                  type: integer
                referenceNo:
                  type: string
                adjustmentDate:
                  type: string
                  format: date
                quantity:
                  type: integer
                type:
                  type: string
                  enum: [INCREASE, DECREASE, DAMAGE, RETURN, TRANSFER, OTHER]
                notes:
                  type: string
                createdBy:
                  type: string
      responses:
        '201':
          description: Stock adjustment created successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    get:
      tags:
        - Stock Adjustments
      summary: Get all stock adjustments with pagination
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: search
          in: query
          schema:
            type: string
        - name: warehouseId
          in: query
          schema:
            type: integer
        - name: productId
          in: query
          schema:
            type: integer
        - name: type
          in: query
          schema:
            type: string
            enum: [INCREASE, DECREASE, DAMAGE, RETURN, TRANSFER, OTHER]
        - name: createdBy
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of stock adjustments
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stock-adjustments/{storeId}/all:
    get:
      tags:
        - Stock Adjustments
      summary: Get all stock adjustments
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of all stock adjustments
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stock-adjustments/{storeId}/export:
    get:
      tags:
        - Stock Adjustments
      summary: Export stock adjustments to CSV
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: CSV file
          content:
            text/csv:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stock-adjustments/{storeId}/{id}:
    get:
      tags:
        - Stock Adjustments
      summary: Get stock adjustment by ID
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Stock adjustment details
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Stock adjustment not found

  /api/stock-adjustments/{id}:
    put:
      tags:
        - Stock Adjustments
      summary: Update stock adjustment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                warehouseId:
                  type: integer
                productId:
                  type: integer
                referenceNo:
                  type: string
                adjustmentDate:
                  type: string
                  format: date
                quantity:
                  type: integer
                type:
                  type: string
                  enum: [INCREASE, DECREASE, DAMAGE, RETURN, TRANSFER, OTHER]
                notes:
                  type: string
      responses:
        '200':
          description: Stock adjustment updated successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      tags:
        - Stock Adjustments
      summary: Delete stock adjustment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Stock adjustment deleted successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # ==================== STOCK ENDPOINTS ====================

  /api/stocks/{storeId}:
    get:
      tags:
        - Stocks
      summary: Get all stocks with pagination
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: search
          in: query
          schema:
            type: string
        - name: warehouseId
          in: query
          schema:
            type: integer
        - name: categoryId
          in: query
          schema:
            type: integer
        - name: brandId
          in: query
          schema:
            type: integer
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of stocks
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stocks/{storeId}/all:
    get:
      tags:
        - Stocks
      summary: Get all stocks
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of all stocks
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stocks/{storeId}/export:
    get:
      tags:
        - Stocks
      summary: Export stocks to CSV
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: CSV file
          content:
            text/csv:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stocks/{storeId}/product/{productId}:
    get:
      tags:
        - Stocks
      summary: Get stocks by product
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: productId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of stocks for the product
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/stocks/{storeId}/product/{productId}/warehouse/{warehouseId}:
    get:
      tags:
        - Stocks
      summary: Get stock by product and warehouse
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: productId
          in: path
          required: true
          schema:
            type: integer
        - name: warehouseId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Stock details
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Stock not found

  # ==================== INTERNAL TRANSFER ENDPOINTS ====================

  /api/internal-transfers/{storeId}:
    post:
      tags:
        - Internal Transfers
      summary: Create a new internal transfer
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - fromWarehouseId
                - toWarehouseId
                - productId
                - transferDate
                - quantity
              properties:
                fromWarehouseId:
                  type: integer
                toWarehouseId:
                  type: integer
                productId:
                  type: integer
                referenceNo:
                  type: string
                transferDate:
                  type: string
                  format: date
                quantity:
                  type: integer
                costForTransfer:
                  type: number
                status:
                  type: string
                  enum: [PENDING, IN_TRANSIT, COMPLETED, CANCELLED]
                notes:
                  type: string
                createdBy:
                  type: string
      responses:
        '201':
          description: Internal transfer created successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    get:
      tags:
        - Internal Transfers
      summary: Get all internal transfers with pagination
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: search
          in: query
          schema:
            type: string
        - name: fromWarehouseId
          in: query
          schema:
            type: integer
        - name: toWarehouseId
          in: query
          schema:
            type: integer
        - name: status
          in: query
          schema:
            type: string
            enum: [PENDING, IN_TRANSIT, COMPLETED, CANCELLED]
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of internal transfers
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/internal-transfers/{storeId}/all:
    get:
      tags:
        - Internal Transfers
      summary: Get all internal transfers
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of all internal transfers
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/internal-transfers/{storeId}/export:
    get:
      tags:
        - Internal Transfers
      summary: Export internal transfers to CSV
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: CSV file
          content:
            text/csv:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/internal-transfers/{storeId}/{id}:
    get:
      tags:
        - Internal Transfers
      summary: Get internal transfer by ID
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Internal transfer details
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Internal transfer not found

  /api/internal-transfers/{id}:
    put:
      tags:
        - Internal Transfers
      summary: Update internal transfer
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                fromWarehouseId:
                  type: integer
                toWarehouseId:
                  type: integer
                productId:
                  type: integer
                referenceNo:
                  type: string
                transferDate:
                  type: string
                  format: date
                quantity:
                  type: integer
                costForTransfer:
                  type: number
                status:
                  type: string
                  enum: [PENDING, IN_TRANSIT, COMPLETED, CANCELLED]
                notes:
                  type: string
      responses:
        '200':
          description: Internal transfer updated successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      tags:
        - Internal Transfers
      summary: Delete internal transfer
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Internal transfer deleted successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # ==================== INVOICE ENDPOINTS ====================

  /api/invoices/{storeId}:
    post:
      tags:
        - Invoices
      summary: Create a new invoice
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - invoiceNumber
                - warehouseId
                - billerName
                - invoiceDate
                - items
              properties:
                invoiceNumber:
                  type: string
                warehouseId:
                  type: integer
                customerId:
                  type: integer
                supplierId:
                  type: integer
                billerName:
                  type: string
                invoiceDate:
                  type: string
                  format: date
                dueDate:
                  type: string
                  format: date
                paymentMethod:
                  type: string
                  enum: [CASH, BANK_TRANSFER, CREDIT_CARD, DEBIT_CARD, CHEQUE, OTHER]
                paymentNote:
                  type: string
                discountAmount:
                  type: number
                status:
                  type: string
                  enum: [PENDING, PAID, PARTIALLY_PAID, OVERDUE, CANCELLED]
                notes:
                  type: string
                createdBy:
                  type: string
                items:
                  type: array
                  items:
                    type: object
                    properties:
                      productId:
                        type: integer
                      quantity:
                        type: integer
                      unitPrice:
                        type: number
                      taxRate:
                        type: number
      responses:
        '201':
          description: Invoice created successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    get:
      tags:
        - Invoices
      summary: Get all invoices with pagination
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: search
          in: query
          schema:
            type: string
        - name: warehouseId
          in: query
          schema:
            type: integer
        - name: customerId
          in: query
          schema:
            type: integer
        - name: status
          in: query
          schema:
            type: string
            enum: [PENDING, PAID, PARTIALLY_PAID, OVERDUE, CANCELLED]
        - name: minAmount
          in: query
          schema:
            type: number
        - name: maxAmount
          in: query
          schema:
            type: number
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of invoices
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/invoices/{storeId}/all:
    get:
      tags:
        - Invoices
      summary: Get all invoices
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of all invoices
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/invoices/{storeId}/export:
    get:
      tags:
        - Invoices
      summary: Export invoices to CSV
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: CSV file
          content:
            text/csv:
              schema:
                type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/invoices/{storeId}/{id}:
    get:
      tags:
        - Invoices
      summary: Get invoice by ID
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Invoice details
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Invoice not found

  /api/invoices/{id}:
    put:
      tags:
        - Invoices
      summary: Update invoice
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                warehouseId:
                  type: integer
                customerId:
                  type: integer
                supplierId:
                  type: integer
                billerName:
                  type: string
                invoiceDate:
                  type: string
                  format: date
                dueDate:
                  type: string
                  format: date
                paidAmount:
                  type: number
                paymentMethod:
                  type: string
                  enum: [CASH, BANK_TRANSFER, CREDIT_CARD, DEBIT_CARD, CHEQUE, OTHER]
                paymentNote:
                  type: string
                discountAmount:
                  type: number
                status:
                  type: string
                  enum: [PENDING, PAID, PARTIALLY_PAID, OVERDUE, CANCELLED]
                notes:
                  type: string
                items:
                  type: array
                  items:
                    type: object
                    properties:
                      productId:
                        type: integer
                      quantity:
                        type: integer
                      unitPrice:
                        type: number
                      taxRate:
                        type: number
      responses:
        '200':
          description: Invoice updated successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'
    delete:
      tags:
        - Invoices
      summary: Delete invoice
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Invoice deleted successfully
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # ==================== BARCODE ENDPOINTS ====================

  /api/barcodes/product/{productId}:
    get:
      tags:
        - Barcodes
      summary: Generate barcode for a product (display)
      description: Generate a barcode for a product. Returns PNG image or base64 data URL for display in web pages.
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: integer
        - name: format
          in: query
          schema:
            type: string
            enum: [png, base64]
            default: png
          description: Response format - png returns image, base64 returns data URL
        - name: type
          in: query
          schema:
            type: string
            default: code128
          description: Barcode type (code128, code39, ean13, etc.)
      responses:
        '200':
          description: Barcode image or base64 data URL
          content:
            image/png:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      barcode:
                        type: string
                        description: Base64 encoded data URL
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Product not found

  /api/barcodes/product/{productId}/download:
    get:
      tags:
        - Barcodes
      summary: Download barcode image for a product
      description: Download a barcode image as a PNG file for printing or storage.
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: integer
        - name: type
          in: query
          schema:
            type: string
            default: code128
          description: Barcode type (code128, code39, ean13, etc.)
      responses:
        '200':
          description: PNG image file ready for download
          content:
            image/png:
              schema:
                type: string
                format: binary
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Product not found

  /api/barcodes/lot/{lotId}:
    get:
      tags:
        - Barcodes
      summary: Generate barcode for a stock lot (display)
      description: Generate a barcode for a stock lot. Returns PNG image or base64 data URL for display in web pages.
      parameters:
        - name: lotId
          in: path
          required: true
          schema:
            type: integer
        - name: format
          in: query
          schema:
            type: string
            enum: [png, base64]
            default: png
          description: Response format - png returns image, base64 returns data URL
        - name: type
          in: query
          schema:
            type: string
            default: code128
          description: Barcode type (code128, code39, ean13, etc.)
        - name: pageStyle
          in: query
          schema:
            type: string
            default: A4
          description: Page style for printing
      responses:
        '200':
          description: Barcode image or base64 data URL
          content:
            image/png:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      barcode:
                        type: string
                        description: Base64 encoded data URL
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Stock lot not found

  /api/barcodes/lot/{lotId}/download:
    get:
      tags:
        - Barcodes
      summary: Download barcode image for a stock lot
      description: Download a barcode image as a PNG file for printing or storage.
      parameters:
        - name: lotId
          in: path
          required: true
          schema:
            type: integer
        - name: type
          in: query
          schema:
            type: string
            default: code128
          description: Barcode type (code128, code39, ean13, etc.)
      responses:
        '200':
          description: PNG image file ready for download
          content:
            image/png:
              schema:
                type: string
                format: binary
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Stock lot not found

  /api/barcodes/bulk:
    post:
      tags:
        - Barcodes
      summary: Generate barcodes in bulk
      description: Generate multiple barcodes for products in a lot or from a supplier. Can return as JSON data URLs or downloadable HTML file.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                lotId:
                  type: integer
                  description: Stock lot ID (use either lotId or supplierId)
                supplierId:
                  type: integer
                  description: Supplier ID (use either lotId or supplierId)
      parameters:
        - name: format
          in: query
          schema:
            type: string
            enum: [base64, png]
            default: base64
          description: Response format - base64 for data URLs, png for binary
        - name: download
          in: query
          schema:
            type: string
            enum: ['true', 'false']
            default: 'false'
          description: Set to 'true' to download as HTML file with embedded images
      responses:
        '200':
          description: Array of barcode data or HTML file
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        productId:
                          type: integer
                        productName:
                          type: string
                        barcode:
                          type: string
                          description: Base64 encoded barcode or data URL
                        quantity:
                          type: integer
                        format:
                          type: string
            text/html:
              schema:
                type: string
                description: HTML file with embedded barcode images
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # ==================== QR CODE ENDPOINTS ====================

  /api/qrcodes/lot/{lotId}:
    get:
      tags:
        - QR Codes
      summary: Generate QR code for a stock lot (display)
      description: Generate a QR code for a stock lot containing lot details. Returns PNG image or base64 data URL for display in web pages.
      parameters:
        - name: lotId
          in: path
          required: true
          schema:
            type: integer
        - name: format
          in: query
          schema:
            type: string
            enum: [png, base64]
            default: png
          description: Response format - png returns image, base64 returns data URL
        - name: pageStyle
          in: query
          schema:
            type: string
            default: A4
          description: Page style for printing
      responses:
        '200':
          description: QR code image or base64 data URL
          content:
            image/png:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      qrCode:
                        type: string
                        description: Base64 encoded data URL
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Stock lot not found

  /api/qrcodes/lot/{lotId}/download:
    get:
      tags:
        - QR Codes
      summary: Download QR code image for a stock lot
      description: Download a QR code image as a PNG file for printing or storage.
      parameters:
        - name: lotId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: PNG image file ready for download
          content:
            image/png:
              schema:
                type: string
                format: binary
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Stock lot not found

  /api/qrcodes/product/{productId}:
    get:
      tags:
        - QR Codes
      summary: Generate QR code for a product (display)
      description: Generate a QR code for a product containing product details. Returns PNG image or base64 data URL for display in web pages.
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: integer
        - name: format
          in: query
          schema:
            type: string
            enum: [png, base64]
            default: png
          description: Response format - png returns image, base64 returns data URL
      responses:
        '200':
          description: QR code image or base64 data URL
          content:
            image/png:
              schema:
                type: string
                format: binary
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      qrCode:
                        type: string
                        description: Base64 encoded data URL
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Product not found

  /api/qrcodes/product/{productId}/download:
    get:
      tags:
        - QR Codes
      summary: Download QR code image for a product
      description: Download a QR code image as a PNG file for printing or storage.
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: PNG image file ready for download
          content:
            image/png:
              schema:
                type: string
                format: binary
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Product not found

  /api/qrcodes/bulk:
    post:
      tags:
        - QR Codes
      summary: Generate QR codes in bulk
      description: Generate multiple QR codes for stock lots from a supplier or warehouse. Returns JSON array with base64 encoded QR codes.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                supplierId:
                  type: integer
                  description: Supplier ID to filter stock lots
                warehouseId:
                  type: integer
                  description: Warehouse ID to filter stock lots
      parameters:
        - name: format
          in: query
          schema:
            type: string
            enum: [base64, png]
            default: base64
          description: Response format - base64 for data URLs, png for binary
        - name: pageStyle
          in: query
          schema:
            type: string
            default: A4
          description: Page style for printing
      responses:
        '200':
          description: Array of QR code data
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        lotId:
                          type: integer
                        lotReferenceNo:
                          type: string
                        productName:
                          type: string
                        qrCode:
                          type: string
                          description: Base64 encoded QR code or data URL
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # ==================== LOCATION ENDPOINTS ====================

  /api/locations:
    post:
      tags:
        - Locations
      summary: Create a new location
      description: Create a new location for a store
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - storeId
                - locationName
                - address
                - country
                - state
                - city
                - isPrimary
              properties:
                storeId:
                  type: integer
                  example: 1
                locationName:
                  type: string
                  example: "Main Warehouse"
                address:
                  type: string
                  example: "123 Storage Street"
                country:
                  type: string
                  example: "United States"
                state:
                  type: string
                  example: "California"
                city:
                  type: string
                  example: "Los Angeles"
                isPrimary:
                  type: boolean
                  example: false
      responses:
        '201':
          description: Location created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    example: 1
                  storeId:
                    type: integer
                    example: 1
                  locationName:
                    type: string
                    example: "Main Warehouse"
                  address:
                    type: string
                    example: "123 Storage Street"
                  country:
                    type: string
                    example: "United States"
                  state:
                    type: string
                    example: "California"
                  city:
                    type: string
                    example: "Los Angeles"
                  isPrimary:
                    type: boolean
                    example: false
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/locations/store/{storeId}:
    get:
      tags:
        - Locations
      summary: Get all locations by store
      description: Retrieve all locations for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      responses:
        '200':
          description: Locations retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      example: 1
                    storeId:
                      type: integer
                      example: 1
                    locationName:
                      type: string
                      example: "Main Warehouse"
                    address:
                      type: string
                      example: "123 Storage Street"
                    country:
                      type: string
                      example: "United States"
                    state:
                      type: string
                      example: "California"
                    city:
                      type: string
                      example: "Los Angeles"
                    isPrimary:
                      type: boolean
                      example: false
                    createdAt:
                      type: string
                      format: date-time
                    updatedAt:
                      type: string
                      format: date-time
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/locations/{id}:
    get:
      tags:
        - Locations
      summary: Get location by ID
      description: Retrieve a specific location by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Location ID
      responses:
        '200':
          description: Location retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    example: 1
                  storeId:
                    type: integer
                    example: 1
                  locationName:
                    type: string
                    example: "Main Warehouse"
                  address:
                    type: string
                    example: "123 Storage Street"
                  country:
                    type: string
                    example: "United States"
                  state:
                    type: string
                    example: "California"
                  city:
                    type: string
                    example: "Los Angeles"
                  isPrimary:
                    type: boolean
                    example: false
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
        '404':
          description: Location not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - Locations
      summary: Update location
      description: Update a specific location by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Location ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                locationName:
                  type: string
                  example: "Updated Warehouse"
                address:
                  type: string
                  example: "456 New Storage Ave"
                country:
                  type: string
                  example: "Canada"
                state:
                  type: string
                  example: "Ontario"
                city:
                  type: string
                  example: "Toronto"
                isPrimary:
                  type: boolean
                  example: true
      responses:
        '200':
          description: Location updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    example: 1
                  storeId:
                    type: integer
                    example: 1
                  locationName:
                    type: string
                    example: "Updated Warehouse"
                  address:
                    type: string
                    example: "456 New Storage Ave"
                  country:
                    type: string
                    example: "Canada"
                  state:
                    type: string
                    example: "Ontario"
                  city:
                    type: string
                    example: "Toronto"
                  isPrimary:
                    type: boolean
                    example: true
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Location not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    delete:
      tags:
        - Locations
      summary: Delete location
      description: Delete a specific location by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Location ID
      responses:
        '200':
          description: Location deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Location deleted successfully"
                  location:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
        '404':
          description: Location not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  # ==================== STAFF ENDPOINTS ====================

  /api/staff:
    post:
      tags:
        - Staff
      summary: Create a new staff member
      description: Create a new staff member for a store
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - storeId
                - staffRole
                - firstname
                - lastname
                - email
                - assignedLocations
                - permissions
              properties:
                storeId:
                  type: integer
                  example: 1
                staffRole:
                  type: string
                  example: "Manager"
                firstname:
                  type: string
                  example: "John"
                lastname:
                  type: string
                  example: "Doe"
                email:
                  type: string
                  format: email
                  example: "john.doe@example.com"
                phone:
                  type: string
                  example: "+1234567890"
                assignedLocations:
                  type: array
                  items:
                    type: string
                  example: ["Main Warehouse", "Secondary Location"]
                permissions:
                  type: object
                  required:
                    - viewProduct
                    - manageProduct
                    - deleteProduct
                    - viewCostPrice
                    - manageCostPrice
                  properties:
                    viewProduct:
                      type: boolean
                      example: true
                    manageProduct:
                      type: boolean
                      example: true
                    deleteProduct:
                      type: boolean
                      example: false
                    viewCostPrice:
                      type: boolean
                      example: true
                    manageCostPrice:
                      type: boolean
                      example: false
      responses:
        '201':
          description: Staff member created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Staff member created successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      storeId:
                        type: integer
                        example: 1
                      staffRole:
                        type: string
                        example: "Manager"
                      firstname:
                        type: string
                        example: "John"
                      lastname:
                        type: string
                        example: "Doe"
                      email:
                        type: string
                        example: "john.doe@example.com"
                      phone:
                        type: string
                        example: "+1234567890"
                      assignedLocations:
                        type: array
                        items:
                          type: string
                        example: ["Main Warehouse", "Secondary Location"]
                      isActive:
                        type: boolean
                        example: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/staff/store/{storeId}:
    get:
      tags:
        - Staff
      summary: Get all staff by store
      description: Retrieve all staff members for a specific store
      parameters:
        - name: storeId
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Store ID
      responses:
        '200':
          description: Staff list retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Staff list fetched successfully"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        storeId:
                          type: integer
                          example: 1
                        staffRole:
                          type: string
                          example: "Manager"
                        firstname:
                          type: string
                          example: "John"
                        lastname:
                          type: string
                          example: "Doe"
                        email:
                          type: string
                          example: "john.doe@example.com"
                        phone:
                          type: string
                          example: "+1234567890"
                        assignedLocations:
                          type: array
                          items:
                            type: string
                          example: ["Main Warehouse", "Secondary Location"]
                        isActive:
                          type: boolean
                          example: true
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /api/staff/{id}:
    get:
      tags:
        - Staff
      summary: Get staff member by ID
      description: Retrieve a specific staff member by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Staff ID
      responses:
        '200':
          description: Staff member retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Staff member fetched successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      storeId:
                        type: integer
                        example: 1
                      staffRole:
                        type: string
                        example: "Manager"
                      firstname:
                        type: string
                        example: "John"
                      lastname:
                        type: string
                        example: "Doe"
                      email:
                        type: string
                        example: "john.doe@example.com"
                      phone:
                        type: string
                        example: "+1234567890"
                      assignedLocations:
                        type: array
                        items:
                          type: string
                        example: ["Main Warehouse", "Secondary Location"]
                      isActive:
                        type: boolean
                        example: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '404':
          description: Staff not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    put:
      tags:
        - Staff
      summary: Update staff member
      description: Update a specific staff member by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Staff ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                staffRole:
                  type: string
                  example: "Senior Manager"
                firstname:
                  type: string
                  example: "John"
                lastname:
                  type: string
                  example: "Smith"
                phone:
                  type: string
                  example: "+1234567890"
                assignedLocations:
                  type: array
                  items:
                    type: string
                  example: ["Main Warehouse", "Secondary Location", "New Location"]
                permissions:
                  type: object
                  properties:
                    viewProduct:
                      type: boolean
                      example: true
                    manageProduct:
                      type: boolean
                      example: true
                    deleteProduct:
                      type: boolean
                      example: true
                    viewCostPrice:
                      type: boolean
                      example: true
                    manageCostPrice:
                      type: boolean
                      example: true
      responses:
        '200':
          description: Staff member updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Staff member updated successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      storeId:
                        type: integer
                        example: 1
                      staffRole:
                        type: string
                        example: "Senior Manager"
                      firstname:
                        type: string
                        example: "John"
                      lastname:
                        type: string
                        example: "Smith"
                      email:
                        type: string
                        example: "john.doe@example.com"
                      phone:
                        type: string
                        example: "+1234567890"
                      assignedLocations:
                        type: array
                        items:
                          type: string
                        example: ["Main Warehouse", "Secondary Location", "New Location"]
                      isActive:
                        type: boolean
                        example: true
                      createdAt:
                        type: string
                        format: date-time
                      updatedAt:
                        type: string
                        format: date-time
        '400':
          description: Bad request - validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Staff not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    delete:
      tags:
        - Staff
      summary: Delete staff member
      description: Delete a specific staff member by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          example: 1
          description: Staff ID
      responses:
        '200':
          description: Staff member deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Staff member deleted successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
        '404':
          description: Staff not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT authentication token for admin users
    customerBearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT authentication token for customers

  schemas:
    Error:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        stack:
          type: object

    Category:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: "Electronics"
        description:
          type: string
          example: "Electronic devices and accessories"
        image:
          type: string
          example: "https://example.com/category-image.jpg"
        storeId:
          type: integer
          example: 1
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    Brand:
      type: object
      properties:
        id:
          type: integer
          example: 1
        storeId:
          type: integer
          example: 1
        name:
          type: string
          example: "Nike"
        description:
          type: string
          example: "Premium athletic brand"
        imageUrl:
          type: string
          example: "https://example.com/brand-image.jpg"
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    ProductGroup:
      type: object
      properties:
        id:
          type: integer
          example: 1
        storeId:
          type: integer
          example: 1
        name:
          type: string
          example: "Electronics"
        description:
          type: string
          example: "Electronic devices and accessories"
        imageUrl:
          type: string
          example: "https://example.com/group-image.jpg"
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    ProductVariant:
      type: object
      properties:
        id:
          type: integer
          example: 1
        storeId:
          type: integer
          example: 1
        name:
          type: string
          example: "Size"
        hasMultipleOptions:
          type: boolean
          example: true
        options:
          type: array
          items:
            $ref: '#/components/schemas/ProductVariantOption'
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    ProductVariantOption:
      type: object
      properties:
        id:
          type: integer
          example: 1
        variantId:
          type: integer
          example: 1
        name:
          type: string
          example: "Small"
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    Unit:
      type: object
      properties:
        id:
          type: integer
          example: 1
        storeId:
          type: integer
          example: 1
        name:
          type: string
          example: "Living Room Furniture"
        status:
          type: string
          enum: [active, inactive]
          example: "active"
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    Pagination:
      type: object
      properties:
        total:
          type: integer
          example: 100
        page:
          type: integer
          example: 1
        limit:
          type: integer
          example: 10
        totalPages:
          type: integer
          example: 10

    ProductPricingInput:
      type: object
      required:
        - currencyCode
        - sellingPrice
      properties:
        currencyCode:
          type: string
          example: "USD"
        sellingPrice:
          type: number
          format: float
          example: 99.99
        originalPrice:
          type: number
          format: float
          example: 149.99

    ProductDescriptionDetailInput:
      type: object
      required:
        - title
        - description
      properties:
        title:
          type: string
          example: "Specifications"
        description:
          type: string
          example: "Detailed product specifications and features"

    ProductOptionInput:
      type: object
      required:
        - optionType
        - values
      properties:
        optionType:
          type: string
          example: "Color"
        values:
          type: array
          items:
            type: string
          example: ["Red", "Blue", "Black"]

    Product:
      type: object
      properties:
        id:
          type: integer
          example: 1
        storeId:
          type: integer
          example: 1
        type:
          type: string
          enum: [REGULAR, VARIANT]
          example: REGULAR
        name:
          type: string
          example: "Wireless Headphones"
        productImages:
          type: array
          items:
            type: string
          example: ["https://example.com/product1.jpg", "https://example.com/product2.jpg"]
        shortDescription:
          type: string
          example: "High-quality wireless headphones with noise cancellation"
        longDescription:
          type: string
          example: "Detailed product description with features and specifications"
        customProductUrl:
          type: string
          example: "wireless-headphones-pro"
        seoDescription:
          type: string
          example: "Premium wireless headphones with active noise cancellation"
        checkoutButtonCta:
          type: string
          example: "Buy Now"
        hideFromHomepage:
          type: boolean
          example: false
        stockQuantity:
          type: integer
          example: 100
        unit:
          type: string
          example: "pieces"
        barcode:
          type: string
          example: "1234567890123"
        minOrderQuantity:
          type: integer
          example: 1
        maxOrderQuantity:
          type: integer
          example: 10
        isPreOrder:
          type: boolean
          example: false
        preOrderReleaseDate:
          type: string
          format: date-time
        showStrikedOutOriginalPrice:
          type: boolean
          example: false
        embedVideoPath:
          type: string
          example: "https://youtube.com/watch?v=example"
        discoveryCategories:
          type: array
          items:
            type: string
          example: ["electronics", "audio"]
        commissionPercentage:
          type: number
          format: float
          example: 5.5
        autoRedirectAfterPurchase:
          type: boolean
          example: false
        redirectUrl:
          type: string
          example: "https://thank-you-page.com"
        pricings:
          type: array
          items:
            $ref: '#/components/schemas/ProductPricing'
        descriptionDetails:
          type: array
          items:
            $ref: '#/components/schemas/ProductDescriptionDetail'
        options:
          type: array
          items:
            $ref: '#/components/schemas/ProductOption'
        categories:
          type: array
          items:
            $ref: '#/components/schemas/Category'
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    ProductPricing:
      type: object
      properties:
        id:
          type: integer
          example: 1
        productId:
          type: integer
          example: 1
        currencyCode:
          type: string
          example: "USD"
        sellingPrice:
          type: number
          format: float
          example: 99.99
        originalPrice:
          type: number
          format: float
          example: 149.99
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    ProductDescriptionDetail:
      type: object
      properties:
        id:
          type: integer
          example: 1
        productId:
          type: integer
          example: 1
        title:
          type: string
          example: "Specifications"
        description:
          type: string
          example: "Detailed product specifications and features"
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    ProductOption:
      type: object
      properties:
        id:
          type: integer
          example: 1
        productId:
          type: integer
          example: 1
        optionType:
          type: string
          example: "Color"
        values:
          type: array
          items:
            type: string
          example: ["Red", "Blue", "Black"]
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    CustomerGroup:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: "VIP Customers"
        description:
          type: string
          example: "Premium customer group with special benefits"
        discountPercentage:
          type: number
          format: float
          example: 10.5
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    Customer:
      type: object
      properties:
        id:
          type: integer
          example: 1
        storeId:
          type: integer
          example: 1
        firstName:
          type: string
          example: "John"
        lastName:
          type: string
          example: "Doe"
        email:
          type: string
          format: email
          example: "john.doe@example.com"
        phone:
          type: string
          example: "+1234567890"
        instagramHandle:
          type: string
          example: "@johndoe"
        additionalInfo:
          type: string
          example: "VIP customer"
        customerGroupId:
          type: integer
          example: 1
        shippingAddress:
          type: string
          example: "123 Main St, City, Country"
        shippingCountry:
          type: string
          example: "United States"
        shippingState:
          type: string
          example: "California"
        shippingCity:
          type: string
          example: "Los Angeles"
        shippingZipCode:
          type: string
          example: "90210"
        billingAddress:
          type: string
          example: "456 Billing Ave, City, Country"
        billingCountry:
          type: string
          example: "United States"
        billingState:
          type: string
          example: "California"
        billingCity:
          type: string
          example: "Los Angeles"
        billingZipCode:
          type: string
          example: "90210"
        createdAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"
        updatedAt:
          type: string
          format: date-time
          example: "2023-01-01T00:00:00.000Z"

    CustomerStats:
      type: object
      properties:
        totalCustomers:
          type: integer
          example: 1500
        activeCustomers:
          type: integer
          example: 1200
        newCustomersThisMonth:
          type: integer
          example: 45
        customersByGroup:
          type: array
          items:
            type: object
            properties:
              groupName:
                type: string
                example: "VIP Customers"
              count:
                type: integer
                example: 300

